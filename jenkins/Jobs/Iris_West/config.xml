<?xml version='1.1' encoding='UTF-8'?>
<flow-definition plugin="workflow-job@2.35">
  <actions>
    <org.jenkinsci.plugins.pipeline.modeldefinition.actions.DeclarativeJobAction plugin="pipeline-model-definition@1.3.9"/>
    <org.jenkinsci.plugins.pipeline.modeldefinition.actions.DeclarativeJobPropertyTrackerAction plugin="pipeline-model-definition@1.3.9">
      <jobProperties/>
      <triggers/>
      <parameters/>
      <options/>
    </org.jenkinsci.plugins.pipeline.modeldefinition.actions.DeclarativeJobPropertyTrackerAction>
  </actions>
  <description></description>
  <keepDependencies>false</keepDependencies>
  <properties>
    <hudson.plugins.jira.JiraProjectProperty plugin="jira@3.0.9"/>
    <com.dabsquared.gitlabjenkins.connection.GitLabConnectionProperty plugin="gitlab-plugin@1.5.13">
      <gitLabConnection></gitLabConnection>
    </com.dabsquared.gitlabjenkins.connection.GitLabConnectionProperty>
    <org.jenkinsci.plugins.gitlablogo.GitlabLogoProperty plugin="gitlab-logo@1.0.3">
      <repositoryName></repositoryName>
    </org.jenkinsci.plugins.gitlablogo.GitlabLogoProperty>
  </properties>
  <definition class="org.jenkinsci.plugins.workflow.cps.CpsFlowDefinition" plugin="workflow-cps@2.74">
    <script>pipeline {
agent any
     stages {
           stage(&apos;Build&apos;) {
               steps {
                   script{
                       try {
                               fileExists &apos;/var/www/html/jenkins/*.html&apos;
                       }
                       catch (exc) {
                           sh &apos;mkdir -p /var/www/html/jenkins&apos;
                       }
                   }
                   git &apos;https://github.com/designmodo/Flat-UI&apos;
                   sh &apos;cp -r $WORKSPACE/* /var/www/html/jenkins/&apos;
               }
           }
           stage(&apos;Test&apos;) {
               steps {
                       sh &apos;&apos;&apos;#!/bin/bash
                          if [ $(($RANDOM%2)) == 0 ]; then
                              echo &quot;Aplicação OK&quot;
                              exit 0
                          else
                              echo &quot;Aplicação Falhou&quot;
                              exit 1
                          fi&apos;&apos;&apos;
                  }
              }
              stage(&apos;Deploy&apos;) {
                  steps {
                      sh &apos;rpm -qa | grep httpd || sudo yum install httpd -y&apos;
                      sh &apos;sudo httpd -k restart&apos;
                  }
              }
          }
          post {
              always{
                  chuckNorris()
              }
          }
}</script>
    <sandbox>true</sandbox>
  </definition>
  <triggers/>
  <disabled>false</disabled>
</flow-definition>